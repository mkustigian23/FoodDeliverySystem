import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class SQLiteExample {
    public static void main(String[] args) {
        String url = "jdbc:sqlite:mydatabase.db"; // Path to your SQLite file

        try (Connection conn = DriverManager.getConnection(url)) {
            if (conn != null) {
                System.out.println("Connected to SQLite!");

                // Create a table if it doesn't exist
                String createTable = "CREATE TABLE IF NOT EXISTS users (" +
                                     "id INTEGER PRIMARY KEY AUTOINCREMENT, " +
                                     "name TEXT NOT NULL, " +
                                     "email TEXT UNIQUE NOT NULL)";

                try (Statement stmt = conn.createStatement()) {
                    stmt.execute(createTable);
                    System.out.println("Table 'users' ready.");
                }

                // Insert a record
                String insertSQL = "INSERT INTO users(name, email) VALUES('Alice', 'alice@example.com')";
                try (Statement stmt = conn.createStatement()) {
                    stmt.executeUpdate(insertSQL);
                }

                // Query records
                String query = "SELECT * FROM users";
                try (Statement stmt = conn.createStatement();
                     ResultSet rs = stmt.executeQuery(query)) {
                    while (rs.next()) {
                        System.out.println(rs.getInt("id") + " - " +
                                           rs.getString("name") + " - " +
                                           rs.getString("email"));
                    }
                }
            }
        } catch (SQLException e) {
            System.out.println("Error: " + e.getMessage());
        }
    }
}
